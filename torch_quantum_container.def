Bootstrap: docker
From: ubuntu:20.04

%post
    # Update and install system-wide packages
    apt-get update && apt-get install -y python3-pip python3-dev git

    # Upgrade pip to ensure we can install all dependencies
    python3 -m pip install --upgrade pip 

%environment
    export PATH=/usr/local/bin:$PATH

%files
    requirements.txt /opt/requirements.txt

%post
    # Install the Python packages defined in requirements.txt
    python3 -m pip install -r /opt/requirements.txt

%runscript
    exec /bin/bash "$@"
